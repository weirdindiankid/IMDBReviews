!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";a(11)},{11:11}],2:[function(a,b,c){/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],a):a(jQuery)}(function(a){var b,c="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",e=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},f=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"'][type=radio]"):a("[name='"+c+"'][type=radio]",b.ownerDocument).filter(function(){return!this.form})),e};return a.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,e),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var d=this,g=this.options,h="checkbox"===this.type||"radio"===this.type,i=h?"":"ui-state-active";null===g.label&&(g.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){g.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){g.disabled||a(this).removeClass(i)}).bind("click"+this.eventNamespace,function(a){g.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){d.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return g.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(g.disabled)return!1;a(this).addClass("ui-state-active"),d.buttonElement.attr("aria-pressed","true");var b=d.element[0];f(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return g.disabled?!1:(a(this).addClass("ui-state-active"),b=this,void d.document.one("mouseup",function(){b=null}))}).bind("mouseup"+this.eventNamespace,function(){return g.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return g.disabled?!1:void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",g.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),void(b&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?f(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(d),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),e=this.options.icons,f=e.primary&&e.secondary,g=[];e.primary||e.secondary?(this.options.text&&g.push("ui-button-text-icon"+(f?"s":e.primary?"-primary":"-secondary")),e.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+e.primary+"'></span>"),e.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+e.secondary+"'></span>"),this.options.text||(g.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):g.push("ui-button-text-only"),b.addClass(g.join(" "))}}),a.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction"),c=this.element.find(this.options.items),d=c.filter(":ui-button");c.not(":ui-button").button(),d.button("refresh"),this.buttons=c.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),a.ui.button})},{}],3:[function(a,b,c){/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g)):!1):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return d&&"static"===b.css("position")?!1:e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}})},{}],4:[function(a,b,c){/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],a):a(jQuery)}(function(a){return a.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&this._trigger("beforeClose",b)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{c=this.document[0].activeElement,c&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),f=Math.max.apply(null,e);return f>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",f+1),d=!0),d&&!c&&this._trigger("focus",b),d},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.focus()}),b.preventDefault()):(this._delay(function(){d.focus()}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){var g=f.offset.left-c.document.scrollLeft(),h=f.offset.top-c.document.scrollTop();d.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:c.window},a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){var g=c.uiDialog.offset(),h=g.left-c.document.scrollLeft(),i=g.top-c.document.scrollTop();d.height=c.uiDialog.height(),d.width=c.uiDialog.width(),d.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" top"+(i>=0?"+":"")+i,of:c.window},a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget(),this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);-1!==c&&b.splice(c,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(b){var c=this,d=!1,e={};a.each(b,function(a,b){c._setOption(a,b),a in c.sizeRelatedOptions&&(d=!0),a in c.resizableRelatedOptions&&(e[a]=b)}),d&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})})},{}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){i["default"](a.target).find(".contribution-colorbox iframe").bind("load",f)}function f(){var a=void 0;try{a=this.contentWindow.location.href}catch(b){a=null}a&&a.match(/close_me/)&&i["default"].colorbox.close()}function g(){i["default"](function(){i["default"](j.getDocument()).bind("cbox_complete",e)})}c.__esModule=!0,c.onCboxComplete=e,c.cboxOnLoadCallback=f,c["default"]=g;var h=a("jquery"),i=d(h),j=a(6)},{6:6,jquery:"jquery"}],6:[function(a,b,c){"use strict";function d(){return window}function e(){return document}c.__esModule=!0,c.getWindow=d,c.getDocument=e},{}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=j["default"].inArray(a.target,j["default"]("input, textarea, button, a, .no_drag",j["default"]("#colorbox")));if(-1===b){var c=j["default"]("#colorbox").offset();o["default"].offsetDx=a.pageX-c.left,o["default"].offsetDy=a.pageY-c.top,j["default"](m.getDocument()).on("mousemove.drag",f)}}function f(a){j["default"]("#colorbox").offset({top:a.pageY-o["default"].offsetDy,left:a.pageX-o["default"].offsetDx})}function g(){j["default"](m.getDocument()).off("mousemove.drag",f)}function h(a){var b=a.currentTarget.getAttribute("href");if(b&&b.match(/.*contribute.*\.imdb.com.*/)&&!b.match(/\?.*site=mobile/)&&!b.match(/^\/registration/))try{j["default"].colorbox&&(j["default"].colorbox({href:b,iframe:!0,width:520,height:"100%",right:0,fixed:!0,overlayClose:!1,opacity:.5,className:"contribution-colorbox",close:"&#10799;",onOpen:function(){j["default"](m.getDocument().body).css({overflow:"hidden"})},onLoad:function(){j["default"]("#cboxClose").removeClass("lightbox-sprite close light-circle")},onComplete:function(){j["default"]("#colorbox").on({mousedown:e,mouseup:g})},onClosed:function(){j["default"](m.getDocument().body).css({overflow:"auto"})}}),j["default"](m.getWindow()).resize(function(){j["default"]("#colorbox").colorbox.resize({height:"100%"})}),a.preventDefault())}catch(c){var d="com.imdb.contribute.klondike.userreview.debug.prod",f={events:[{data:{source:"CONTRIBUTION_LIGHTBOX_CLICK_HANDLER",href:b,userAgent:window.navigator.userAgent,error:c}}]};j["default"].post(p+d,JSON.stringify(f))}}c.__esModule=!0,c.mouseDown=e,c.mouseDrag=f,c.mouseUp=g,c["default"]=h;var i=a("jquery"),j=d(i),k=a(5),l=d(k),m=a(6),n=a(9),o=d(n);l["default"]();var p="https://unagi-na.amazon.com/1/events/";c.SUSHI_URL=p},{5:5,6:6,9:9,jquery:"jquery"}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a(7),f=d(e);c.clickHandler=f["default"],window.imdb=window.imdb||{},window.imdb.contribution={clickHandler:f["default"]}},{7:7}],9:[function(a,b,c){"use strict";c.__esModule=!0;var d=window.CS||{};c["default"]=d,b.exports=c["default"]},{}],10:[function(a,b,c){"use strict";function d(a){a.addEventListener("click",function(){a.classList.toggle(g)})}function e(a){var b=a.getElementsByClassName(f);Array.from(b).filter(function(a){return 0===a.getElementsByTagName("select").length}).forEach(function(a){d(a)})}c.__esModule=!0,c["default"]=d,c.autoInit=e;var f="ipl-expander",g="ipl-expander--expanded"},{}],11:[function(a,b,c){"use strict";var d=a(19);a(15),a(13),a(14),a(2),a(3),a(4),a(20),a(8),a(22),document.addEventListener("DOMContentLoaded",function(){d.autoInitListerControlsForm()})},{13:13,14:14,15:15,19:19,2:2,20:20,22:22,3:3,4:4,8:8}],12:[function(a,b,c){"use strict";function d(a){var b=[];for(var c in a)null!==a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function e(a,b){return b+(b.indexOf("?")>-1?"&":"?")+d(a)}c.__esModule=!0,c.constructRefinementsString=d,c.createUrl=e},{}],13:[function(a,b,c){"use strict";var d=a(12),e=a(16);!function(a,b,c,f){"imdb"in b||(b.imdb={}),b.imdb.ListerLoad=function(b,c){var f,g=a(b),h={},i={externalCallbacks:[],ajaxRequestURL:""},j=g.find(".lister-list"),k=g.find(".load-more-data").first(),l=k.find("#load-more-trigger").first(),m=this,n=g.find(".lister-working"),o=function(){f=a.extend(!0,{},i,c),p(),a(window).trigger("bindloadlate")},p=function(){g.on("click","#load-more-trigger",s)},q=function(b,c){a.ajax({url:b,success:function(b){r(a(b),c)},error:function(){r(null,c)}})},r=function(b,c){if(n.hide(),null!==b){var d=e.updateContainerItems(b[0],j[0],k[0],c);a(window).trigger("bindloadlate");var g=f.externalCallbacks.length;if(g)for(var h=0;g>h;h++)f.externalCallbacks[h].call(m,d)}},s=function(b){var c;b&&(c=a(b.target).attr("ref-marker"),h.ref_=c),h.paginationKey=k.attr("data-key"),e.updateLoadMoreState(l[0],e.LOADING_STATE_CLASS),q(d.createUrl(h,f.ajaxRequestURL),!1)};o()},a.fn.listerload=function(c){return this.each(function(){var d=new b.imdb.ListerLoad(this,c);a(this).data("listerload",d)})}}(jQuery,window,document)},{12:12,16:16}],14:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.forEach(function(a){var b=g["default"](a).hasClass("overflow-menu")?g["default"](a):g["default"](".overflow-menu",a).first();if(b.length){var c=void 0,d=!1,e=b.find(".pop-up-dialog").first(),f=e.attr("id"),h="#"+f;"undefined"==typeof f&&(h=""),e.dialog({autoOpen:!1,appendTo:".vertical-ellipsis"+h,width:"auto",minHeight:"auto",open:function(){c=!0,g["default"](document).bind("click",function(){(c||d)&&(e.dialog("close"),d=!1),c=!0})},focus:function(){c=!1},close:function(){g["default"](document).unbind("click")}});var i=b.find(".vertical-ellipsis").first();f=i.attr("id"),h="#"+f,"undefined"==typeof f&&(h=""),i.click(function(){g["default"](".pop-up-dialog"+h).dialog("open"),c=!1}),b.find(".ui-dialog").first().click(function(){d=!0})}})}c.__esModule=!0,c.autoInit=e;var f=a("jquery"),g=d(f);document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll(".overflow-menu");a&&e(Array.from(a))})},{jquery:"jquery"}],15:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a){var b=a.map(function(a){return f()?a.querySelector(".imdb-user-review"):a});j.makeCollapsable(b),g(b),f()?l.initReviewFooterModalsFromReviews(b):(o.autoInitElementsInArray(b),k.autoInit(b))}}function f(){return null!==window.location.href.match("^https?://m\\.[^/]*imdb\\..*")}function g(a){var b=".ipl-expander";a.forEach(function(a){var c=a.querySelector(b);c&&i["default"](c)})}var h=a(10),i=d(h),j=a(19),k=a(14),l=a(17),m=a("jquery"),n=d(m),o=a(21);n["default"](document).ready(function(){var a=n["default"](".load-more-data");a.length&&n["default"].fn.listerload&&n["default"](".lister").listerload({externalCallbacks:[e],ajaxRequestURL:a.attr("data-ajaxurl")})})},{10:10,14:14,17:17,19:19,21:21,jquery:"jquery"}],16:[function(a,b,c){"use strict";function d(a,b){var c=a.parentElement;c.classList.remove(i),c.classList.remove(j),c.classList.remove(k),c.classList.remove(l),c.classList.add(b)}function e(a,b){var c=a.querySelector(o),e=b.querySelector(n);null!=c&&c.getAttribute("data-key")?(b.setAttribute("data-key",c.getAttribute("data-key")),d(e,i)):(b.removeAttribute("data-key"),d(e,k))}function f(a,b,c,d){d&&g(b);var f=a.querySelector(p),i=void 0;return null!=f&&(i=h(f.children,b)),e(a,c),i}function g(a){for(;a.hasChildNodes();)a.removeChild(a.lastChild)}function h(a,b){var c=[];return Array.from(a).forEach(function(a){b.appendChild(a),c.push(a)}),c}c.__esModule=!0,c.updateLoadMoreState=d,c.updatePaginationKeyFromContainer=e,c.updateContainerItems=f;var i="ipl-load-more--loaded";c.LOADED_STATE_CLASS=i;var j="ipl-load-more--loading";c.LOADING_STATE_CLASS=j;var k="ipl-load-more--loaded-all";c.LOADED_ALL_STATE_CLASS=k;var l="ipl-load-more--error";c.ERROR_STATE_CLASS=l;var m="An error has occured. Please try again.";c.DEFAULT_ERROR_MESSAGE=m;var n="#load-more-trigger";c.DEFAULT_TRIGGER_ELEMENT_QUERY_SELECTOR=n;var o=".load-more-data";c.DEFAULT_DATA_ELEMENT_QUERY_SELECTOR=o;var p=".lister-list";c.DEFAULT_LIST_QUERY_SELECTOR=p},{}],17:[function(a,b,c){"use strict";function d(a){var b=a.querySelectorAll(".review-footer-modal");b&&f(b)}function e(a){a.forEach(function(a){g(a.querySelector(".review-footer-modal"))})}function f(a){a.forEach(function(a){g(a)})}function g(a){h(a),a.querySelectorAll(".review-bartlet-voting").forEach(function(b){b.addEventListener("click",i(b,a))})}function h(a){var b=a.querySelector(".review-footer-modal-menu");b.addEventListener("click",function(b){b.stopPropagation();var c=a.querySelector(".review-footer-modal-expanded-controls");o.setVisibilityVisible(c),m(c,o.setVisibilityEmpty,o.setVisibilityEmpty)})}function i(a,b){return function(){n.recordReviewVote(a.dataset.value,b.dataset.voteUrl).then(function(c){return j(b,a.dataset.value)})["catch"](function(a){return k(b,r)}),l(b)}}function j(a,b){b===s?k(a,p):k(a,q)}function k(a,b){var c=a.querySelector(".review-bartlet-voting-message");c.innerHTML=b}function l(a){a.querySelectorAll(".review-bartlet-voting-actions").forEach(o.hideElement)}function m(a,b,c){var d=function(){document.removeEventListener("click",e)},e=function(e){a.contains(e.target)?(c(a),d()):(b(a),d())};document.addEventListener("click",e)}c.__esModule=!0,c.autoInit=d,c.initReviewFooterModalsFromReviews=e,c.initReviewFooterModals=f;var n=a(19),o=a(18),p="You found this to be helpful",q="You found this to not be helpful",r="There was a problem collecting your vote",s="UP"},{18:18,19:19}],18:[function(a,b,c){"use strict";function d(){var a=this,b=document.querySelector(".lister-controls-icon"),c=document.querySelector('form[name="lister-controls"]');if(b&&c){var d=m(c),h=c.querySelector(".lister-expanded-controls");b.addEventListener("click",e.bind(this,c,h,d));var j=c.querySelector(".lister-controls-apply");j&&j.addEventListener("click",f.bind(this,c,h,d));var k=c.querySelectorAll(".lister-sort-direction");k&&k.forEach(function(b){b.addEventListener("click",g.bind(a,c))});var l=c.querySelectorAll('input[name="ratingFilter"]');l&&!function(){var b=c.querySelector("#rating-filter-clear");l.forEach(function(c){c.addEventListener("change",i.bind(a,b))}),b.addEventListener("click",w.bind(a,c))}()}}function e(a,b,c){o(b)?i(b):(h(a,b,c),l(b))}function f(a,b,c){h(a,b,c),l(b)}function g(a,b){var c=b.target.getAttribute("data-sort-direction");q(c);var d=a.querySelector('input[name="dir"]');d&&(d.value="asc"===c?"desc":"asc")}function h(a,b,c){var d=n(b);p(c,d)||a.submit()}function i(a){a.classList.remove("hidden")}function j(a){a.style.visibility="visible"}function k(a){a.style.visibility=""}function l(a){a.classList.add("hidden")}function m(a){var b={};return r(b,y,s(a)),r(b,z,t(a)),r(b,A,u(a)),r(b,B,v(a)),b}function n(a){return m(a)}function o(a){return a.classList.contains("hidden")}function p(a,b){return JSON.stringify(a)===JSON.stringify(b)}function q(a){var b=document.querySelectorAll(".lister-sort-direction");b.forEach(function(b){"asc"===a?(b.classList.remove("ascending"),b.classList.add("descending"),b.setAttribute("title","Descending Order"),b.setAttribute("data-sort-direction","desc")):(b.classList.remove("descending"),b.classList.add("ascending"),b.setAttribute("title","Ascending Order"),b.setAttribute("data-sort-direction","asc"))})}function r(a,b,c){c&&(a[b]=c)}function s(a){var b=a.querySelector('input[name="sort"]:checked');return b?b.value:null}function t(a){var b=a.querySelector('input[name="dir"]');return b?b.value:null}function u(a){var b=a.querySelector('input[name="spoiler"]:checked');return b?b.value:null}function v(a){var b=a.querySelector('input[name="ratingFilter"]:checked');return b?b.value:null}function w(a,b){x(a),l(b.target)}function x(a){a.querySelector('input[name="ratingFilter"]:checked').checked=!1}c.__esModule=!0,c.autoInitListerControlsForm=d,c.showElement=i,c.setVisibilityVisible=j,c.setVisibilityEmpty=k,c.hideElement=l;var y="sort";c.SORT_KEY=y;var z="dir";c.SORT_DIRECTION_KEY=z;var A="spoiler";c.IS_SPOILER_KEY=A;var B="ratingFilter";c.RATING_FILTER=B},{}],19:[function(a,b,c){"use strict";function d(a){a.forEach(function(a){"true"!==a.getAttribute("data-initialized")&&(a.querySelector(".spoiler-warning")?i(a):a.className.indexOf("collapsable")>0&&e(a),j(a),a.setAttribute("data-initialized","true"))})}function e(a){var b=n,c=a.firstElementChild,d=parseInt(c.scrollHeight),e=a.querySelector(".actions");if(e&&(b+=parseInt(e.scrollHeight,10)),d>b)!function(){var b=a.querySelector(".show-more");b.className=b.className.replace("hidden","");var d=Array.from(a.querySelectorAll(".show-more__control"));d.forEach(function(d){c.style.maxHeight=m+"px",d.addEventListener("click",function(){var d=a.querySelector(".actions");b.parentNode.removeChild(b),c.style.maxHeight="none",h(d,a)})}),f(a)}();else{c.style.maxHeight="none";var g=a.querySelector(".actions");h(g,a)}}function f(a){var b=a.querySelector(".actions");if(b){b.parentNode.removeChild(b);var c=a.querySelector(".text");c.classList.add("clickable");var d=a.querySelector(".gradient-footer");d.appendChild(b)}}function g(a){var b=a.querySelector(".actions");if(b){b.parentNode.removeChild(b);var c=a.querySelector(".lister-item-content");c.insertBefore(b,c.children[4])}}function h(a,b){var c=b.querySelector(".content");if(a){c.insertBefore(a,c.children[1]);var d=b.querySelector(".text");d.classList.remove("clickable")}}function i(a){var b=Array.from(a.querySelectorAll(".spoiler-warning__control"));0!==b.length&&(b.forEach(function(b){b.addEventListener("click",function(){var b=a.querySelector(".content"),c=b.style.maxHeight;if("none"===c)b.style.maxHeight="0px",g(a);else{b.style.maxHeight="none";var d=a.querySelector(".actions");h(d,a)}})}),g(a))}function j(a){var b=Array.from(a.querySelectorAll("button")),c=a.querySelector(".actions");b.forEach(function(d){d.addEventListener("click",function(d){b.forEach(function(a){a.setAttribute("disabled","disabled")});var e=d.target.getAttribute("data-value"),f=a.getAttribute("data-vote-url");k(e,f).then(function(a){a?c.innerHTML="Thank you! Your vote will be counted and appear on this site shortly.":c.innerHTML="There was a problem collecting your vote."})["catch"](function(a){c.innerHTML="There was a problem collecting your vote."})})})}function k(a,b){return new Promise(function(c,d){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&(200===this.status?c(!0):d(!1))},e.open("POST",b),e.timeout=1e4,e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("voteValue="+a)})}function l(){var a=document.querySelector('form[name="lister-controls"]');a&&!function(){var b=a.querySelector(".lister-sort-direction"),c=a.querySelector('input[name="dir"]');b&&b.addEventListener("click",function(b){c.value="asc"===c.value?"desc":"asc",a.submit()})}()}c.__esModule=!0,c.makeCollapsable=d,c.recordReviewVote=k,c.autoInitListerControlsForm=l;var m=300,n=400;document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll(".imdb-user-review");d(Array.from(a))})},{}],20:[function(a,b,c){"use strict";!function(a,b,c,d){"strict mode";b.imdb=b.imdb||{},b.imdb.Utilities=function(){var d=a("#nblogout").length>0?!0:!1,e="ontouchstart"in b||c.maxTouchPoints>0||c.msMaxTouchPoints>0,f=b.devicePixelRatio>1,g="m."===b.location.hostname.substr(0,2);this.getIsLoggedIn=function(){return d},this.getIsMdot=function(){return g},this.getIsRetina=function(){return f},this.getIsTouch=function(){return e},this.getUniqueId=function(b){var c,d,e=a(b);return e.attr("id")?e.attr("id"):(c=e.attr("class")||"",d=e.prop("tagName")+"-"+c.replace(" ","-")+"-"+a.now(),e.attr("id",d),d)}}}(jQuery,window,navigator)},{}],21:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){var b=a.querySelectorAll("["+p+"]");b.length&&f(Array.from(b))}function f(a){null===t&&(t=new s),t.autoInit(a)}function g(a){var b=a.map(function(a){return a.querySelector("["+p+"]")});f(b)}function h(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")}c.__esModule=!0;var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.autoInit=e,c.autoInitElements=f,c.autoInitElementsInArray=g;var j=a("iui"),k={WATCHLIST:"/watchlist",WATCHLIST_HAS:"/list/_ajax/watchlist_has",METRICS:"/tr/"},l={IN_WATCHLIST:"uc-add-wl--in-wl",NOT_IN_WATCHLIST:"uc-add-wl--not-in-wl",ACTION_PENDING:"uc-add-wl--pending"},m={PENDING:"add-to-watchlist-widget-sync-pending",NOT_PENDING:"add-to-watchlist-widget-sync-not-pending",WATCHLISTED:"add-to-watchlist-widget-sync-watchlisted",NOT_WATCHLISTED:"add-to-watchlist-widget-sync-not-watchlisted"},n={ADD:"watchlist-add",DELETE:"watchlist-del"},o={ADD_TO_WATCHLIST:"Click to add to watchlist",REMOVE_FROM_WATCHLIST:"Click to remove from watchlist"},p="data-uc-add-wl",q="actionOnly",r=function(){function a(b){d(this,a),this.widget=b,this.titleId=this.widget.dataset.titleId,this.autoInit()}return i(a,[{key:"autoInit",value:function(){this.widget.addEventListener("click",this.handleWidgetClick.bind(this))}},{key:"isWatchlistedState",value:function(){return"true"===this.widget.dataset.isWatchlisted}},{key:"isLoggedIn",value:function(){return"true"===this.widget.dataset.isLoggedIn}},{key:"handleWidgetClick",value:function(){this.isLoggedIn()?this.handleUserLoggedIn():this.taskCompletion()}},{key:"handleUserLoggedIn",value:function(){this.isWatchlistedState()?this.removeFromWatchList():this.addToWatchlist()}},{key:"addToWatchlist",value:function(){var a={url:k.WATCHLIST+"/"+this.titleId,method:"PUT"};this.updateWatchlistData(a,n.ADD)}},{key:"removeFromWatchList",value:function(){var a={url:k.WATCHLIST+"/"+this.titleId,method:"DELETE"};this.updateWatchlistData(a,n.DELETE)}},{key:"markAsWatchlisted",value:function(){this.widget.className=this.widget.className.replace(l.NOT_IN_WATCHLIST,l.IN_WATCHLIST),this.widget.dataset.isWatchlisted="true",this.widget.title=o.REMOVE_FROM_WATCHLIST}},{key:"markAsNotWatchListed",value:function(){this.widget.className=this.widget.className.replace(l.IN_WATCHLIST,l.NOT_IN_WATCHLIST),this.widget.dataset.isWatchlisted="false",this.widget.title=o.ADD_TO_WATCHLIST}},{key:"updateWatchlistData",value:function(a,b){var c=new XMLHttpRequest,d=this;c.open(a.method,a.url,!0),c.onreadystatechange=function(){if(c.readyState===c.DONE&&200===c.status){var a=JSON.parse(this.responseText);200===a.status&&(d.isWatchlistedState()?d.createEvent(m.NOT_WATCHLISTED):d.createEvent(m.WATCHLISTED),d.recordMetric(b))}d.createEvent(m.NOT_PENDING)},this.createEvent(m.PENDING),c.send()}},{key:"taskCompletion",value:function(){var a=encodeURIComponent(window.location.pathname+window.location.search),b="https://"+window.location.hostname+"/taskcompletion/issue/addToWatchlist?titleId="+this.titleId+"&u="+a+"&ref_=wl_lgin";window.location=b}},{key:"showActionPending",value:function(){this.widget.className=this.widget.className+" "+l.ACTION_PENDING}},{key:"showActionNotPending",value:function(){this.widget.className=this.widget.className.replace(l.ACTION_PENDING,"").trim()}},{key:"getTitleId",value:function(){return this.titleId}},{key:"createEvent",value:function(a){var b=document.createEvent("Event");b.initEvent(a,!0,!0),this.widget.dispatchEvent(b)}},{key:"recordMetric",value:function(a){if(this.widget.dataset.recordMetric){var b=j.MetricsInfo.getPageType()?j.MetricsInfo.getPageType():"other",c=j.MetricsInfo.getSubpageType()?j.MetricsInfo.getSubpageType():"other",d=this.widget.dataset.refTag&&"_"+this.widget.dataset.refTag,e={ref_:this.widget.dataset.widgetType+d,pageAction:a,pt:b,spt:c,ht:q},f=new XMLHttpRequest;f.open("POST",k.METRICS,!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send(h(e))}}}]),a}(),s=function(){function a(){d(this,a),this.widgets={}}return i(a,[{key:"autoInit",value:function(a){var b=this;a.forEach(function(a){
var c=new r(a);b.widgets[c.getTitleId()]||(b.widgets[c.getTitleId()]=[]),b.widgets[c.getTitleId()].push(c)});var c=Object.keys(this.widgets);this.widgets[c[0]][0].isLoggedIn()&&(this.checkIfWatchlisted(c),this.registerToEvents())}},{key:"checkIfWatchlisted",value:function(a){var b=new XMLHttpRequest,c={"consts[]":a,tracking_tag:"addToWatchlistWidget"},d=this;b.open("POST",k.WATCHLIST_HAS,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.onreadystatechange=function(){if(b.readyState===b.DONE&&200===b.status){var c=JSON.parse(this.responseText);200===c.status&&d.initAsWatchlisted(JSON.parse(this.responseText).has)}d.syncAsNotPending(a)},this.syncAsPending(a),b.send(h(c))}},{key:"initAsWatchlisted",value:function(a){var b=this;Object.keys(a).forEach(function(a){b.widgets[a].forEach(function(a){a.markAsWatchlisted()})})}},{key:"registerToEvents",value:function(){this.registerEvent(m.PENDING,this.syncAsPending),this.registerEvent(m.NOT_PENDING,this.syncAsNotPending),this.registerEvent(m.WATCHLISTED,this.syncAsWatchlisted),this.registerEvent(m.NOT_WATCHLISTED,this.syncAsNotWatchlisted)}},{key:"registerEvent",value:function(a,b){var c=this;document.addEventListener(a,function(a){b.call(c,[a.target.dataset.titleId])})}},{key:"syncAsPending",value:function(a){this.applyWidgets(a,function(a){return a.showActionPending()})}},{key:"syncAsNotPending",value:function(a){this.applyWidgets(a,function(a){return a.showActionNotPending()})}},{key:"syncAsWatchlisted",value:function(a){this.applyWidgets(a,function(a){return a.markAsWatchlisted()})}},{key:"syncAsNotWatchlisted",value:function(a){this.applyWidgets(a,function(a){return a.markAsNotWatchListed()})}},{key:"applyWidgets",value:function(a,b){var c=this;a.forEach(function(a){c.widgets[a].forEach(b)})}}]),a}(),t=null},{iui:"iui"}],22:[function(a,b,c){"use strict";var d=a(21);document.addEventListener("DOMContentLoaded",function(){d.autoInit(document)})},{21:21}]},{},[1]);